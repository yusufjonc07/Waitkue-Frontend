import{d as I,J as L,f as n,b as C,g as B,w as a,e as l,i as r,h as s,u as i,B as f,z as A}from"./index-Bcr3mXlA.js";import{u as F}from"./useForm-fy7gsO6_.js";import{v as c}from"./utils-DvwhG7-T.js";import{u as N}from"./useAuth-D0ISSAP_.js";const U={class:"text-base mb-4 leading-5"},S={class:"auth-layout__options flex flex-col sm:flex-row items-start sm:items-center justify-between"},h={class:"flex justify-center mt-4"},E=I({__name:"Login",setup(j){const{validate:V}=F("form"),o=L({email:"",password:"",keepLoggedIn:!1}),{login:_,isLoading:g}=N();async function b(){if(V())try{await _(o.email,o.password),A().isAuthenticated&&window.location.reload()}catch(m){console.error("Login failed:",m)}}return(m,e)=>{const u=n("RouterLink"),d=n("VaInput"),v=n("VaIcon"),x=n("VaValue"),w=n("VaCheckbox"),y=n("VaButton"),k=n("VaForm");return C(),B(k,{ref:"form",onSubmit:f(b,["prevent"])},{default:a(()=>[e[7]||(e[7]=l("h1",{class:"font-semibold text-4xl mb-4"},"Log in",-1)),l("p",U,[e[4]||(e[4]=r(" New to Vuestic? ")),s(u,{to:{name:"signup"},class:"font-semibold text-primary"},{default:a(()=>e[3]||(e[3]=[r("Sign up")])),_:1})]),s(d,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),rules:[i(c).required],class:"mb-4",label:"Username or Email",type:"text"},null,8,["modelValue","rules"]),s(x,{"default-value":!1},{default:a(t=>[s(d,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=p=>o.password=p),rules:[i(c).required],type:t.value?"text":"password",class:"mb-4",label:"Password",onClickAppendInner:f(p=>t.value=!t.value,["stop"])},{appendInner:a(()=>[s(v,{name:t.value?"mso-visibility_off":"mso-visibility",class:"cursor-pointer",color:"secondary"},null,8,["name"])]),_:2},1032,["modelValue","rules","type","onClickAppendInner"])]),_:1}),l("div",S,[s(w,{modelValue:o.keepLoggedIn,"onUpdate:modelValue":e[2]||(e[2]=t=>o.keepLoggedIn=t),class:"mb-2 sm:mb-0",label:"Keep me signed in on this device"},null,8,["modelValue"]),s(u,{to:{name:"recover-password"},class:"mt-2 sm:mt-0 sm:ml-1 font-semibold text-primary"},{default:a(()=>e[5]||(e[5]=[r(" Forgot password? ")])),_:1})]),l("div",h,[s(y,{class:"w-full",loading:i(g),type:"submit"},{default:a(()=>e[6]||(e[6]=[r(" Login")])),_:1},8,["loading"])])]),_:1},512)}}});export{E as _};
//# sourceMappingURL=Login.vue_vue_type_script_setup_true_lang-DfCcs621.js.map
