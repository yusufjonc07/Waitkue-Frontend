import{a as r,y as o}from"./index-Bcr3mXlA.js";const c=async e=>{const{search:t}=e;let i=await r.request(r.allServices());t&&(i=i.filter(a=>a.name.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())));const{page:s=1,perPage:n=10}=e||{};return{data:i,pagination:{page:s,perPage:n,total:i.length}}},d=async e=>{const t=await r.request(r.allServices(),{method:"POST",body:JSON.stringify(e)});if(!t.error)return t;throw new Error(t.error)},p=async e=>{new Headers().append("Content-Type","application/json");const i=await r.request(r.service(e.id),{method:"PUT",body:JSON.stringify(e)});if(!i.error)return i;throw new Error(i.error)},u=async e=>fetch(r.service(e.id),{method:"DELETE"}),h=o("services",{state:()=>({items:[],pagination:{page:1,perPage:10,total:0}}),actions:{async getAll(e){const{data:t,pagination:i}=await c({...e.filters,...e.sorting,...e.pagination});this.items=t,this.pagination=i},async add(e){const[t]=await d(e);return this.items.unshift(t),t},async update(e){const t=await p(e),i=this.items.findIndex(({id:s})=>s===e.id);return this.items.splice(i,1,t),t},async remove(e){if(await u(e)){const i=this.items.findIndex(({id:s})=>s===e.id);this.items.splice(i,1)}}}});export{h as u};
//# sourceMappingURL=services-T7CBbn_K.js.map
